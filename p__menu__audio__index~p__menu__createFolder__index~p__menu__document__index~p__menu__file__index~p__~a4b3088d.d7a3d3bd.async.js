(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"4ANX":function(e,t,a){"use strict";var n=a("R+Pm"),i=a("nKUr"),c=e=>{var t=Object(n["a"])({scriptUrl:"//at.alicdn.com/t/font_2995112_xnwhmzjjir.js"});return Object(i["jsx"])(t,{className:e.className,type:e.type,style:{fontSize:e.size+"px",color:e.color}})};t["a"]=c},"9Eo+":function(e,t,a){e.exports={loader:"loader___1xqSB",row:"row___1mQXy",flicker:"flicker___1kHpo"}},"9PCQ":function(e,t,a){e.exports=a.p+"static/noData.a4b1c939.png"},"9cNf":function(e,t,a){e.exports={ShareBox:"ShareBox___2r_Kz",shareBox:"ShareBox___2r_Kz",title:"title___1Ldne",inputBox:"inputBox___1bXNt",input:"input___3SdK1",copy:"copy___Wvmyi",load:"load___1cu7u",move:"move___1xgUd"}},FQJK:function(e,t,a){"use strict";a("2qtc");var n=a("kLXV"),i=a("k1fw"),c=a("tJVT"),r=a("P6Xv"),o=a.n(r),l=a("/MKj"),s=a("q1tI"),d=a("cEo8"),b=a.n(d),u=(a("5NDa"),a("5rEg")),f=(a("T2oS"),a("W9HT")),p=(a("miYZ"),a("tsqr")),j=a("9og8"),v=a("WmNS"),x=a.n(v),_=a("ZmDx"),m=a.n(_),h=a("2LCi"),O=e=>{var t=e.substring(e.lastIndexOf(".")+1),a="";switch(t){case"png":case"jpg":case"jpeg":case"bmp":case"gif":case"webp":case"psd":case"svg":case"tiff":a="picture";break;case"cda":case"wav":case"mp3":case"wmv":case"flac":case"aac":a="music";break;case"mp4":case"avi":case"mov":case"rmvb":case"rm":case"flv":case"3gp":a="video";break;case"txt":case"xls":case"xlsx":case"doc":case"docx":case"ppt":case"pptx":case"pdf":case"md":a="document";break;default:a="other";break}return a},g=a("qR5z"),y=a.n(g),k=a("yM5H"),w=a.n(k),A=a("wcVp"),S=a.n(A),N=a("nKUr"),B=e=>{var t,a=Object(s["useState"])(!1),r=Object(c["a"])(a,2),o=r[0],l=(r[1],h["b"].contract),d=(h["b"].getID,function(){var a=Object(j["a"])(x.a.mark((function a(n){var c,r,s,d,b;return x.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(c=t.files,r=t=>{e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open",fileDownloadStatus:{progress:t/c[0].size*100,fileName:c[0].name,filesize:c[0].size,type:"\u7b49\u5f85\u4e2d..."}}})},0!==c.length){a.next=4;break}return a.abrupt("return");case 4:if(!o){a.next=6;break}return a.abrupt("return");case 6:return a.prev=6,e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open",fileDownloadStatus:{progress:0,fileName:c[0].name,filesize:c[0].size,type:"\u7b49\u5f85\u4e2d..."}}}),a.next=10,h["a"].put(c,{onStoredChunk:r});case 10:return s=a.sent,d=[],d="newFloder"===e.floderType?[O(c[0].name),e.title]:[O(c[0].name)],b={cid:s,file_name:c[0].name,file_size:c[0].size,file_type:c[0].type,file_owner_folder:d},e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open"}}),a.next=17,l.store(b);case 17:e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:c[0].name,filesize:c[0].size,type:"\u6210\u529f",initObj:Object(i["a"])(Object(i["a"])({},b),{},{created:(new Date).getTime()+"000000"})}}}),e.reloadTable(),a.next=26;break;case 21:a.prev=21,a.t0=a["catch"](6),console.log(a.t0),"filesRepetition"==a.t0.Error?p["default"].warning("\u6587\u4ef6\u5df2\u5b58\u5728\uff0c\u8bf7\u52ff\u518d\u6b21\u4e0a\u4f20!"):p["default"].error("\u9519\u8bef"),e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:c[0].name,filesize:c[0].size,initObj:null,type:"\u5931\u8d25"}}});case 26:case"end":return a.stop()}}),a,null,[[6,21]])})));return function(e){return a.apply(this,arguments)}}()),b=[{icon:S.a,title:"\u5de5\u4f5c\u53f0",url:"/menu/home",rightIcon:""},{icon:S.a,title:"\u6587\u4ef6",url:"/menu/file",rightIcon:""},{icon:S.a,title:"\u4f20\u8f93\u5217\u8868",url:"/menu/history",rightIcon:""}],v=Object(s["useState"])(b),_=Object(c["a"])(v,2),g=_[0],k=(_[1],Object(s["useState"])({folderCreate:!1,inputFolerText:"",confirmLoading:!1})),A=Object(c["a"])(k,2),B=A[0],I=A[1],D=function(){var t=Object(j["a"])(x.a.mark((function t(){var a;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=B.inputFolerText,t.prev=1,g.forEach((e=>{if(e.title===a)throw I(Object(i["a"])(Object(i["a"])({},B),{},{folderCreate:!1,inputFolerText:"",confirmLoading:!1})),p["default"].error("Existing folder"),Error;if(""===e.title)throw I(Object(i["a"])(Object(i["a"])({},B),{},{folderCreate:!1,inputFolerText:"",confirmLoading:!1})),p["default"].error("The folder name cannot be empty"),Error})),I(Object(i["a"])(Object(i["a"])({},B),{},{confirmLoading:!0})),t.prev=4,t.next=7,l.folder_create({folder:a});case 7:e.dispatch({type:"globalTop/save",state:{getViewAccount:e.getViewAccount+1}}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),console.error(t.t0);case 13:I(Object(i["a"])(Object(i["a"])({},B),{},{folderCreate:!1,inputFolerText:"",confirmLoading:!1})),t.next=18;break;case 16:t.prev=16,t.t1=t["catch"](1);case 18:case"end":return t.stop()}}),t,null,[[1,16],[4,10]])})));return function(){return t.apply(this,arguments)}}();return Object(N["jsxs"])("div",{children:[Object(N["jsxs"])("div",{className:m.a.ImportButton,onClick:()=>{t.click()},children:[Object(N["jsx"])("div",{className:m.a.addIconBox,children:Object(N["jsx"])("img",{src:y.a,alt:""})}),Object(N["jsx"])(f["a"],{spinning:!1,size:"small",children:Object(N["jsx"])("div",{className:m.a.title,children:"\u4e0a\u4f20\u6587\u4ef6"})}),Object(N["jsx"])("input",{type:"file",onChange:d,className:m.a.displayNone,ref:e=>{t=e}})]}),Object(N["jsxs"])("div",{className:m.a.createFolder,onClick:()=>{I(Object(i["a"])(Object(i["a"])({},B),{},{inputFolerText:"",folderCreate:!0}))},children:[Object(N["jsx"])("div",{className:m.a.addIconBox,children:Object(N["jsx"])("img",{src:w.a,alt:""})}),Object(N["jsx"])(f["a"],{spinning:!1,size:"small",children:Object(N["jsx"])("div",{className:m.a.title,children:"\u65b0\u5efa\u6587\u4ef6\u5939"})})]}),Object(N["jsx"])(n["a"],{title:"\u65b0\u5efa\u6587\u4ef6\u5939",visible:B.folderCreate,onOk:D,confirmLoading:B.confirmLoading,onCancel:()=>{I(Object(i["a"])(Object(i["a"])({},B),{},{folderCreate:!1}))},children:Object(N["jsx"])(u["a"],{placeholder:"\u65b0\u5efa\u6587\u4ef6\u5939",value:B.inputFolerText,onChange:e=>I(Object(i["a"])(Object(i["a"])({},B),{},{inputFolerText:e.target.value.trim()}))})})]})};function I(e){var t=e.globalTop,a=t.token,n=t.getViewAccount;return{token:a,getViewAccount:n}}var D=Object(l["c"])(I)(B),C=e=>Object(N["jsx"])("div",{className:"".concat(b.a.ActionHeader," ActionHeader"),children:Object(N["jsx"])(D,{floderType:e.floderType,setFileModelDisplay:e.setFileModelDisplay,setFileDownloadStatus:e.setFileDownloadStatus,title:e.title,reloadTable:e.reloadTable})}),L=C,T=(a("Q9mQ"),a("diRs")),M=(a("sRBo"),a("kaz8")),F=a("qmVF"),z=a.n(F),R=a("4ANX"),E=a("jnMK"),U=a("VmGg"),P=a("rZqG"),V=a("SDlg"),K=a("wb4B"),J=a.n(K),H=e=>{if("no"===e.allChecked)return Object(N["jsx"])(N["Fragment"],{});var t,a=e.tableCheckedList.filter((e=>e));function n(t){t.callback&&t.callback(e.checkindex)}a.length>1&&(t=["download","rename","check","copy","move"]);var i=e.setList.map(((e,a)=>{var i=t&&t.includes(e.key);return Object(N["jsx"])("div",{className:"".concat(J.a.box," ").concat(i?J.a.disabled:""),onClick:()=>!i&&n(e),children:Object(N["jsx"])("div",{className:J.a.innerBox,children:Object(N["jsx"])(R["a"],{type:e.icon,size:16})},a)},a)}));return Object(N["jsx"])("div",{className:"".concat(J.a.FileSetBottomRender),children:i})};function Q(e){var t=e.globalTop.token;return{token:t}}var X=Object(l["c"])(Q)(H),q=a("Ns3m"),G=a("SLhE"),Y=a("UTfn"),W=h["b"].getID,Z=W,$="".concat(Z,"_uploadFiles"),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Number(localStorage.getItem($))||0;t+=e,localStorage.setItem($,t.toString())},te=a("vDqi"),ae=a.n(te),ne=a("SOgc"),ie=a.n(ne),ce=e=>Object(N["jsxs"])("div",{className:ie.a.noData,children:[Object(N["jsx"])("div",{className:ie.a.image,style:{backgroundImage:"url(".concat(e.image||a("9PCQ"),")")}}),Object(N["jsx"])("div",{children:e.title||"\u6682\u65e0\u6570\u636e"})]});function re(e){var t=e.globalTop.token;return{token:t}}var oe=Object(l["c"])(re)(ce),le=oe,se=a("bIAK"),de=h["b"].getlist,be=h["b"].contract,ue=(h["b"].getID,e=>{var t=Object(s["useState"])(!1),a=Object(c["a"])(t,2),n=a[0],r=a[1],o=[{key:"download",icon:"icon-xiazai1",title:"Download",callback:l},{key:"rename",icon:"icon-zhongmingming",title:"Rename",callback:Oe},{key:"delete",icon:"icon-shanchu",title:"Remove",callback(t){if("all"===te&&(t=null===f||void 0===f?void 0:f.list.map((e=>e.cid))),"\u6700\u8fd1\u4f7f\u7528"==e.title)"number"===typeof t?(Object(Y["a"])([null===f||void 0===f?void 0:f.list[t].cid]),e.reloadTable(),p["default"].success("\u5220\u9664\u6210\u529f")):"object"===typeof t&&(Object(Y["a"])(t),e.reloadTable(),S([]),p["default"].success("\u5220\u9664\u6210\u529f"));else{var a=null===f||void 0===f?void 0:f.list[0].file_folder[(null===f||void 0===f?void 0:f.list[0].file_folder.length)-1];"number"===typeof t?(e.setClickItem({listData:null===f||void 0===f?void 0:f.list[t],folderName:a,isOnly:!0}),e.setDeleteModal(!0)):"object"===typeof t&&(e.setClickItem({listData:t,folderName:a,isOnly:!1}),e.setDeleteModal(!0))}}}];function l(t){"object"===typeof t&&(null===f||void 0===f||f.list.map(((e,a)=>{e.cid==t[0]&&(t=a)}))),e.dispatch({type:"fileModelInfo/save",state:{fileModelDisplay:"open"}});var a=null===f||void 0===f?void 0:f.list[t],n=a.cid,i=Object(G["a"])(n,a.file_name);if(a){var c=a.file_name,r=null===f||void 0===f?void 0:f.list[t];e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:0,fileName:r.file_name,filesize:r.file_size,type:"\u7b49\u5f85\u4e2d..."}}}),ae()({method:"get",url:i,responseType:"blob",headers:{"content-type":a.file_type},onDownloadProgress:t=>{e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:t.loaded/t.total*100,fileName:r.file_name,filesize:r.file_size,type:"Downloading"}}})}}).then((t=>{var n=new Blob([t.data],{type:t.data.type}),i=document.createElement("a"),o=window.URL.createObjectURL(n);i.href=o,i.download=c,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o),Object(Y["c"])(a),ee(t.data.size),e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:r.file_name,filesize:r.file_size,type:"\u6210\u529f"}}})})).catch((t=>{e.dispatch({type:"fileModelInfo/save",state:{fileDownloadStatus:{progress:100,fileName:r.file_name,filesize:r.file_size,type:"\u5931\u8d25"}}})}))}}var d=Object(s["useRef"])(null),b=Object(U["a"])((e=>g(null===e||void 0===e?void 0:e.nextPage)),{target:d,isNoMore(e){return!1===(null===e||void 0===e?void 0:e.next)}}),f=b.data,v=b.loading,_=(b.loadMore,b.loadingMore),m=b.noMore,O=b.reload;function g(){return y.apply(this,arguments)}function y(){return y=Object(j["a"])(x.a.mark((function t(){var a,n,i,c=arguments;return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:0,r(!0),n=[],i=!1,t.prev=4,t.next=7,e.getList(a);case 7:return n=t.sent,n=de(n),t.next=11,Promise.all(n.map(function(){var e=Object(j["a"])(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].status(t.cid);case 2:a=e.sent,a.pins.some((e=>"Pinning"==e.status))?t.pinStatus="Pinning":a.pins.some((e=>"Pinned"==e.status))?t.pinStatus="Pinned":t.pinStatus="PinQueued",n=[],0!=a.deals.length?a.deals.forEach((e=>{n.push(e)})):n.push("Queuing"),t.storageProviders=n;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:if(t.sent,"recently used"!==e.title){t.next=14;break}throw Error;case 14:if("newFloder"!==e.floderType){t.next=16;break}throw Error;case 16:n.length&&(a+=1,i=!0),r(!1),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](4),r(!1),console.warn(t.t0);case 24:return t.abrupt("return",{list:n,nextPage:a,next:i});case 25:case"end":return t.stop()}}),t,null,[[4,20]])}))),y.apply(this,arguments)}Object(s["useEffect"])((()=>{e.setReloadTable((()=>()=>{ne("no"),S([]),C([]),O()}))}),[O]);var k=Object(s["useState"])([]),w=Object(c["a"])(k,2),A=w[0],S=w[1],B=Object(s["useState"])([]),I=Object(c["a"])(B,2),D=I[0],C=I[1],L=e=>{var t=A.concat();t[e]=!t[e];var a=[];for(var n in t)a.push(null===f||void 0===f?void 0:f.list[n].cid);C(a),S(t)};Object(s["useEffect"])((()=>{var t,a,n=A.filter((e=>e));n.length===(null===f||void 0===f||null===(t=f.list)||void 0===t?void 0:t.length)&&ne("all"),n.length<((null===f||void 0===f||null===(a=f.list)||void 0===a?void 0:a.length)||0)&&ne("some"),0===n.length&&ne("no"),e.dispatch({type:"menu/save",state:{audioList:null===f||void 0===f?void 0:f.list}})}),[f,A]);var F=Object(P["a"])({}),E=Object(c["a"])(F,2),K=E[0],J=E[1];Object(s["useEffect"])((()=>{e.headerList.map((e=>{e.sort&&J({[e.key]:0})}))}),[e.headerList]);var H=e=>{if(e){var t=Math.floor(e/1074*100);return{minWidth:t+"%"}}return{flex:1}},Q=()=>e.headerList.map((e=>{var t=e.align||"left",a=()=>{var t="";return e.sort&&(t+="pointer"),t},n=()=>{if(e.sort){var t=()=>{var t=K[e.key];return 0===t?"":1===t?z.a.top:2===t?z.a.bottom:void 0};return Object(N["jsxs"])("div",{className:"".concat(z.a.sort," ").concat(t()),children:[Object(N["jsx"])(R["a"],{type:"icon-shang",className:z.a.top}),Object(N["jsx"])(R["a"],{type:"icon-xia",className:z.a.bottom})]})}};return Object(N["jsxs"])("div",{className:a(),style:Object(i["a"])(Object(i["a"])({},H(e.width)),{},{textAlign:t}),onClick:()=>W(e),children:[e.title,n()]},e.key)}));function W(e){e.sort&&J((t=>({[e.key]:(t[e.key]+1)%3})))}var Z=Object(s["useState"])("no"),$=Object(c["a"])(Z,2),te=$[0],ne=$[1],ie=()=>{var e=!1,t=!1;return"some"===te&&(e=!0),"all"===te&&(t=!0),Object(N["jsx"])(M["a"],{onChange:ce,indeterminate:e,checked:t})};function ce(){var e,t;"all"===te?S(new Array(null===f||void 0===f||null===(e=f.list)||void 0===e?void 0:e.length).fill(!1)):S(new Array(null===f||void 0===f||null===(t=f.list)||void 0===t?void 0:t.length).fill(!0))}var re=Object(s["useState"])({index:-1,status:""}),oe=Object(c["a"])(re,2),ue=oe[0],fe=oe[1],pe=Object(V["a"])(ue),je=Object(s["useState"])(-1),ve=Object(c["a"])(je,2),xe=(ve[0],ve[1]),_e=()=>{var t;if(0==(null===f||void 0===f?void 0:f.list.length))return!1;return null===f||void 0===f||null===(t=f.list)||void 0===t?void 0:t.map(((t,a)=>{var n=t=>{var n=()=>{var e=e=>{xe(-1),e.callback&&e.callback(a)},t=o.map(((t,a)=>Object(N["jsx"])("div",{className:z.a.line,onClick:()=>e(t),children:Object(N["jsx"])(R["a"],{type:t.icon,size:16})},a)));return Object(N["jsx"])("div",{className:z.a.setAbsoluteBox,children:t})},c=()=>{var e=null;return e=ue.index===a?Object(N["jsx"])("div",{className:"".concat(z.a.nameBox," ").concat(z.a.editInputNameBox),onClick:e=>{e.stopPropagation()},children:Object(N["jsx"])(u["a"],{placeholder:"",onPressEnter:e=>me(e),bordered:!1,autoFocus:!0,defaultValue:t.file_name,onBlur:()=>{setTimeout((()=>{pe.current.index===a&&fe(Object(i["a"])(Object(i["a"])({},ue),{},{index:-1}))}),300)}})}):Object(N["jsx"])("div",{className:"".concat(z.a.nameBox," pointer ").concat(z.a.nowrap),children:t.file_name}),e};return e.headerList.map((e=>{var a=e.align||"left",r=t[e.key];return"name"===e.key&&(r=Object(N["jsxs"])("div",{className:"df aic",children:[Object(N["jsx"])(R["a"],{type:t.icon,size:20}),c()]})),"file_size"===e.key&&(r=Object(N["jsx"])("span",{children:Object(q["b"])(t[e.key],2)})),"created"===e.key&&(r=Object(N["jsx"])("span",{children:Object(q["a"])(t[e.key])})),"cid"===e.key&&(r=Object(N["jsxs"])("div",{style:{position:"relative"},children:[Object(N["jsx"])(T["a"],{content:t[e.key],children:Object(N["jsx"])("div",{className:z.a.keyBox,children:t[e.key]})}),n()]})),Object(N["jsx"])("div",{style:Object(i["a"])(Object(i["a"])({},H(e.width)),{},{textAlign:a}),className:"df",children:r},e.key)}))};return Object(N["jsx"])("div",{className:"".concat(z.a.tableListBox," tableListBox"),onDoubleClick:()=>{Object(Y["c"])(t),"music"!==t.file_folder[0]&&e.setPreviewState({previewURL:Object(G["a"])(t.cid,t.file_name),isPreview:!0,previewType:"",fileType:t.file_type}),e.audioActiveIndex===a?(e.dispatch({type:"menu/save",state:{audioActiveIndex:-1}}),setTimeout((()=>{e.dispatch({type:"menu/save",state:{audioActiveIndex:a}})}),300)):e.dispatch({type:"menu/save",state:{audioActiveIndex:a}})},children:Object(N["jsxs"])("div",{className:"".concat(z.a.tableList," ").concat(A[a]?z.a.tableListActive:""),children:[Object(N["jsx"])("div",{className:z.a.checkedBox,children:Object(N["jsx"])(M["a"],{onChange:()=>L(a),checked:A[a]})}),n(t)]})},a)}))};function me(e){return he.apply(this,arguments)}function he(){return he=Object(j["a"])(x.a.mark((function e(t){return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return fe(Object(i["a"])(Object(i["a"])({},ue),{},{status:"loading"})),null===f||void 0===f?void 0:f.list[ue.index].file_name.substring((null===f||void 0===f?void 0:f.list[ue.index].file_name.lastIndexOf("."))+1),e.next=4,be.file_rename({cid:null===f||void 0===f?void 0:f.list[ue.index].cid,rename:t.target.value});case 4:e.sent,fe({index:-1,status:""}),O();case 7:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}function Oe(e){if("object"===typeof e&&(null===f||void 0===f||f.list.map(((t,a)=>{t.cid==e[0]&&(e=a)}))),void 0!==e)fe(Object(i["a"])(Object(i["a"])({},ue),{},{index:e}));else{var t=A.filter((e=>e));if(1===t.length){var a=A.findIndex((e=>e));fe(Object(i["a"])(Object(i["a"])({},ue),{},{index:a}))}}}function ge(){return m?(null===f||void 0===f?void 0:f.nextPage)>1?"---No More---":"":_?"Loading...":void 0}var ye=Object(s["useState"])(),ke=Object(c["a"])(ye,2),we=ke[0];ke[1];function Ae(){return we||(null!==f&&void 0!==f&&f.nextPage||null!==f&&void 0!==f&&f.list.length||n?n?Object(N["jsx"])(se["a"],{}):Object(N["jsxs"])(N["Fragment"],{children:[Object(N["jsxs"])("div",{className:z.a.TableBox,children:[Object(N["jsxs"])("div",{className:z.a.header,children:[Object(N["jsx"])("div",{className:z.a.checkedBox,children:ie()}),Q()]}),Object(N["jsx"])("div",{className:z.a.content,ref:d,children:v?Object(N["jsx"])("div",{className:"df jcc",style:{opacity:"0.1"},children:"loading"}):Object(N["jsxs"])(N["Fragment"],{children:[_e(),Object(N["jsx"])("div",{className:"df jcc",style:{opacity:"0.1"},children:ge()})]})})]}),Object(N["jsx"])(X,{allChecked:te,tableCheckedList:A,setList:o,checkindex:D})]}):Object(N["jsx"])(le,{image:e.noDataImage,title:e.noData}))}return Ae()});function fe(e){var t=e.globalTop.token,a=e.menu.audioActiveIndex;return{token:t,audioActiveIndex:a}}var pe=Object(l["c"])(fe)(ue),je=a("9cNf"),ve=a.n(je),xe=a("P5Jw"),_e=e=>{var t="SHARE",a=()=>{e.setShareModal(!1)};return Object(N["jsx"])(n["a"],{title:t,visible:e.shareModal,footer:!1,onCancel:a,centered:!0,zIndex:1031,children:Object(N["jsxs"])("div",{className:ve.a.ShareBox,children:[Object(N["jsx"])("div",{className:ve.a.title,children:"Share link has been generated"}),Object(N["jsxs"])("div",{className:ve.a.inputBox,children:[Object(N["jsx"])(E["a"],{radius:4,borderAnimation:!1,children:Object(N["jsx"])("div",{className:ve.a.input,children:e.shareUrl})}),Object(N["jsx"])(xe["CopyToClipboard"],{text:e.shareUrl,children:Object(N["jsx"])("div",{className:ve.a.copy,children:"Copy"})})]})]})})};function me(e){var t=e.globalTop.token;return{token:t}}var he=Object(l["c"])(me)(_e),Oe=a("R8ux"),ge=e=>{var t=Object(s["useState"])(!1),a=Object(c["a"])(t,2),i=a[0],r=a[1],o=h["b"].contract,l=e.clickItem,d="\u5220\u9664",b=()=>{e.setDeleteModal(!1)},u=function(){var t=Object(j["a"])(x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r(!0),!l.isOnly){t.next=16;break}if(!l.listData.cid||l.folderName){t.next=9;break}return t.next=5,o.file_delete({cid:l.listData.cid});case 5:e.reloadTable(),e.setDeleteModal(!1),t.next=14;break;case 9:if(!l.listData.cid||!l.folderName){t.next=14;break}return t.next=12,o.file_delete_in_folder({cid:l.listData.cid,folder:l.folderName});case 12:e.reloadTable(),e.setDeleteModal(!1);case 14:t.next=40;break;case 16:if(!l.listData||l.folderName){t.next=29;break}return t.prev=17,t.next=20,o.files_delete({cids:l.listData},Oe["d"]);case 20:e.reloadTable(),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](17),p["default"].error("\u5220\u9664\u5931\u8d25");case 26:e.setDeleteModal(!1),t.next=40;break;case 29:if(!l.listData||!l.folderName){t.next=40;break}return t.prev=30,t.next=33,o.files_delete_in_folder({cids:l.listData,folder:l.folderName});case 33:e.reloadTable(),t.next=39;break;case 36:t.prev=36,t.t1=t["catch"](30),p["default"].error("\u5220\u9664\u5931\u8d25");case 39:e.setDeleteModal(!1);case 40:r(!1);case 41:case"end":return t.stop()}}),t,null,[[17,23],[30,36]])})));return function(){return t.apply(this,arguments)}}();return Object(N["jsx"])(n["a"],{title:d,visible:e.deleteModal,confirmLoading:i,onCancel:b,onOk:u,centered:!0,zIndex:1031,cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",children:"\u662f\u5426\u786e\u8ba4\u5220\u9664\u6b64\u6587\u4ef6(\u5939)?"})};function ye(e){var t=e.globalTop.token;return{token:t}}var ke=Object(l["c"])(ye)(ge),we=a("PWKf"),Ae=a.n(we),Se=e=>{var t=h["b"].contract,a=h["b"].getID,i=(h["b"].getlist,"copy"===e.type?"Copy":"Move"),r=Object(s["useState"])(!1),o=Object(c["a"])(r,2),l=(o[0],o[1],Object(s["useState"])([{icon:"",title:""}])),d=Object(c["a"])(l,2),b=d[0],u=d[1],f=Object(s["useState"])(!1),p=Object(c["a"])(f,2),v=p[0],_=p[1],m=function(){var e=Object(j["a"])(x.a.mark((function e(){var n,i,c;return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,t.view_account({did:"did:near:".concat(a)});case 3:for(c in e.t1=e.sent,n=e.t0.parse.call(e.t0,e.t1),i=[],n.file_folders)"picture"===n.file_folders[c]||"music"===n.file_folders[c]||"video"===n.file_folders[c]||"document"===n.file_folders[c]||"other"===n.file_folders[c]||i.push({title:n.file_folders[c],icon:"icon-wenjian"});return e.abrupt("return",[...i]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s["useEffect"])((()=>{Object(j["a"])(x.a.mark((function e(){return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,m();case 3:e.t1=e.sent,e.t2=[...e.t1],(0,e.t0)(e.t2);case 6:case"end":return e.stop()}}),e)})))()}),[]);var O=function(){var a=Object(j["a"])(x.a.mark((function a(n){return x.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(_(!0),"copy"!==e.type){a.next=7;break}return a.next=4,t.file_copy_to_folder({sid:e.checkData.sid,folder:n});case 4:a.sent,a.next=11;break;case 7:if("move"!==e.type){a.next=11;break}return a.next=10,t.file_copy_to_folder({sid:e.checkData.sid,folder:n});case 10:a.sent;case 11:_(!1),g();case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),g=function(){var t=Object(j["a"])(x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.setSelectListModal(!1);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(N["jsx"])(n["a"],{title:i,visible:e.selectListModal,confirmLoading:v,onCancel:g,centered:!0,zIndex:1031,children:0!==b.length&&Object(N["jsxs"])("div",{className:Ae.a.SelectListBox,children:[b.map(((e,t)=>Object(N["jsxs"])("div",{className:"".concat(Ae.a.box),onClick:()=>O(e.title),children:[Object(N["jsx"])(R["a"],{type:e.icon,size:20}),Object(N["jsx"])("div",{className:Ae.a.title,children:e.title})]},t))),0===b.length&&Object(N["jsx"])("div",{children:"\u6682\u65e0\u6570\u636e"})]})})};function Ne(e){var t=e.globalTop.token;return{token:t}}var Be=Object(l["c"])(Ne)(Se),Ie=(a("mHj4"),e=>{var t=Object(s["useState"])([{key:"name",title:"\u6587\u4ef6\u540d",width:630},{key:"cid",title:"CID",width:180},{key:"file_size",title:"\u5927\u5c0f",width:100},{key:"created",title:"\u521b\u5efa\u65f6\u95f4",width:200}]),a=Object(c["a"])(t,2),r=a[0],l=(a[1],Object(s["useState"])(!1)),d=Object(c["a"])(l,2),b=d[0],u=d[1],f=Object(s["useState"])(!1),p=Object(c["a"])(f,2),j=p[0],v=p[1],x=Object(s["useState"])("copy"),_=Object(c["a"])(x,2),m=_[0],h=_[1],O=Object(s["useState"])(!1),g=Object(c["a"])(O,2),y=g[0],k=g[1],w=Object(s["useState"])(),A=Object(c["a"])(w,2),S=(A[0],A[1]),B=Object(s["useState"])(null),I=Object(c["a"])(B,2),D=I[0],C=I[1],T=Object(s["useState"])(null),M=Object(c["a"])(T,2),F=M[0],z=M[1],R=Object(s["useState"])(!1),E=Object(c["a"])(R,2),U=(E[0],E[1]),P=Object(s["useState"])(""),V=Object(c["a"])(P,2),K=V[0],J=V[1],H=Object(s["useState"])(1),Q=Object(c["a"])(H,2),X=(Q[0],Q[1],Object(s["useState"])((()=>()=>{}))),q=Object(c["a"])(X,2),G=q[0],Y=q[1],W=(Object(s["useRef"])(null),Object(s["useState"])({previewURL:"",isPreview:!1,previewType:"",fileType:""})),Z=Object(c["a"])(W,2),$=Z[0],ee=Z[1];Object(s["useImperativeHandle"])(e.onRef,(()=>({reloadTable:G})));var te=Object(s["useState"])(),ae=Object(c["a"])(te,2),ne=ae[0],ie=ae[1];return Object(N["jsxs"])("div",{className:o.a.FileTable,children:[Object(N["jsx"])(L,{setFileModelDisplay:U,setFileDownloadStatus:S,title:e.title,reloadTable:G,floderType:e.floderType}),Object(N["jsxs"])("div",{className:o.a.tableCardBox,children:[Object(N["jsx"])("div",{className:o.a.title,children:e.title}),e.tableAfterContent&&e.tableAfterContent(ne),Object(N["jsx"])(pe,{setShowCheck:ie,setFileModelDisplay:U,setFileDownloadStatus:S,setCheckData:z,title:e.title,floderType:e.floderType,headerList:r,getList:e.getList,setShareModal:u,setDeleteModal:v,setClickItem:C,setSelectListType:h,setSelectListModal:k,setReloadTable:Y,noData:e.noData,reloadTable:G,noDataImage:e.noDataImage,setShareUrl:J,setPreviewState:ee})]}),Object(N["jsx"])(he,{shareUrl:K,shareModal:b,setShareModal:u}),Object(N["jsx"])(ke,{deleteModal:j,clickItem:D,setDeleteModal:v,reloadTable:G}),Object(N["jsx"])(Be,{type:m,selectListModal:y,checkData:F,setSelectListModal:k}),Object(N["jsx"])("div",{className:"previewContent",children:Object(N["jsx"])(n["a"],{visible:$.isPreview,footer:null,className:"previewContent",width:"image"===$.previewType?"520px":"80%",onCancel:()=>ee(Object(i["a"])(Object(i["a"])({},$),{},{isPreview:!1})),style:{backgroundColor:"rgba(0,0,0,0)"},children:Object(N["jsx"])("div",{className:o.a.previewBox,style:{textAlign:"center"},children:Object(N["jsx"])("embed",{src:$.previewURL,style:{color:"#fff",backgroundColor:"#f1f1f1"},type:$.fileType,color:"#fff",width:"800",height:"800"})})})})]})});function De(e){var t=e.globalTop.token;return{token:t}}t["a"]=Object(l["c"])(De)(Ie)},LhIy:function(e,t,a){e.exports={Card:"Card___1dkUe",card:"Card___1dkUe",bg1:"bg1___24BOV",bg2:"bg2___UzlPQ",defaultBorder:"defaultBorder___1_YUD",borderAnimation:"borderAnimation___1YmcH",bg2Animation:"bg2Animation___279zQ"}},Ns3m:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=e=>{var t=e.toString().substring(0,13),a=new Date(Number(t)),n=a.getFullYear(),i=(a.getMonth()+1).toString().padStart(2,"0"),c=a.getDate().toString().padStart(2,"0"),r=a.getHours().toString().padStart(2,"0"),o=a.getMinutes().toString().padStart(2,"0");a.getSeconds().toString().padStart(2,"0");return"".concat(n,"/").concat(i,"/").concat(c," ").concat(r,":").concat(o)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0==e)return"0 B";var a=1024,n=t||2,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],c=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,c)).toFixed(n))+" "+i[c]}},P6Xv:function(e,t,a){e.exports={FileTable:"FileTable___32DeQ",fileTable:"FileTable___32DeQ",tableCardBox:"tableCardBox___3DtSz",title:"title___3HWSd",previewBox:"previewBox___2s4XA","ant-modal-wrap":"ant-modal-wrap___2mgI0",antModalWrap:"ant-modal-wrap___2mgI0","ant-modal-content":"ant-modal-content___1VVh9",antModalContent:"ant-modal-content___1VVh9"}},PWKf:function(e,t,a){e.exports={SelectListBox:"SelectListBox___gqeNs",selectListBox:"SelectListBox___gqeNs",box:"box___36UWR",title:"title___229dL"}},SOgc:function(e,t,a){e.exports={noData:"noData___1C8Nx",image:"image___3wLPh"}},UTfn:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l}));var n=a("2LCi"),i=n["b"].getID,c=i,r=e=>{var t=[];localStorage.getItem("".concat(c,"_recentlyFiles"))&&(t=JSON.parse(localStorage.getItem("".concat(c,"_recentlyFiles"))||""));var a=0,n=t.some(((t,n)=>(t.sid===e.sid&&(a=n),t.sid===e.sid)));n?t.unshift(t.splice(a,1)[0]):t.unshift(e),t.length>10&&t.splice(10),localStorage.setItem("".concat(c,"_recentlyFiles"),JSON.stringify(t))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=JSON.parse(localStorage.getItem("".concat(c,"_recentlyFiles"))||"[]");return t.splice(e),t},l=e=>{var t=JSON.parse(localStorage.getItem("".concat(c,"_recentlyFiles"))||"[]"),a=function(a){t.some(((n,i)=>{n.sid===e[a]&&t.splice(i,1)}))};for(var n in e)a(n);console.log(t),localStorage.setItem("".concat(c,"_recentlyFiles"),JSON.stringify(t))}},ZmDx:function(e,t,a){e.exports={card:"card___1H9KL",createFolder:"createFolder___3CQ1J",bg:"bg___RGVgN",addIconBox:"addIconBox___1jdvt",title:"title___3BeV-",displayNone:"displayNone___6ENxD",ImportButton:"ImportButton___3wovt",importButton:"ImportButton___3wovt"}},bIAK:function(e,t,a){"use strict";var n=a("9Eo+"),i=a.n(n),c=a("nKUr"),r=e=>Object(c["jsx"])("div",{className:i.a.loadingBox,children:Object(c["jsxs"])("div",{className:i.a.loader,children:[Object(c["jsxs"])("div",{className:i.a.row,children:[Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{})]}),Object(c["jsxs"])("div",{className:i.a.row,children:[Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{})]}),Object(c["jsxs"])("div",{className:i.a.row,children:[Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{}),Object(c["jsx"])("span",{})]})]})});t["a"]=r},cEo8:function(e,t,a){e.exports={ActionHeader:"ActionHeader___mfRla",actionHeader:"ActionHeader___mfRla",searchBox:"searchBox___17RA6"}},jnMK:function(e,t,a){"use strict";var n=a("k1fw"),i=a("LhIy"),c=a.n(i),r=a("nKUr"),o=e=>{e=Object(n["a"])({inline:!0,radius:8,defaultBorder:!0,background:"rgb(38, 41, 45)",borderAnimation:!1},e);var t="".concat(c.a.Card," ").concat(e.borderAnimation?c.a.borderAnimation:""),a={borderRadius:e.radius+"px",display:e.inline?"inline-block":"block"};e.boxShadow&&(a.boxShadow=e.boxShadow);var i={borderRadius:e.radius+"px",background:e.background},o={borderRadius:e.radius+"px"};return Object(r["jsxs"])("div",{className:t,style:a,children:[Object(r["jsx"])("div",{className:"".concat(c.a.bg1," ").concat(e.className||""),style:i}),Object(r["jsx"])("div",{className:"".concat(c.a.bg2," ").concat(e.defaultBorder?c.a.defaultBorder:""),style:o}),e.children]})};t["a"]=o},mHj4:function(e,t,a){},qR5z:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAL5JREFUOE/V07EOAUEUheH/VF5BL3qtRi8iovEaahUqNY8hEaVSovUIotfxBldGdjfjGmxIJLbcvfvtmdkz4stL+ftmVgc2QC1hXoCepJ1/FgMjoCppGA+Z2RhoAg1g4JEYCINImiaAcGsLLD1SGgiwmbUypCtpf/tgtAfPEnSAFVCJkk3ypA8AsAb62fBZ0iK1pJ8B/q8V6com+EfAF8mvIWtmUbi3VU4Ac+AkaeaL9Oowxc4RaEs63AGfnuorBV5yESXc2dUAAAAASUVORK5CYII="},qmVF:function(e,t,a){e.exports={TableBox:"TableBox___2qmXd",tableBox:"TableBox___2qmXd",header:"header___7Ov0w",checkedBox:"checkedBox___3BfNr",sort:"sort___2wsdz",top:"top___trrjj",bottom:"bottom___1pEKk",content:"content___12nxE",tableListBox:"tableListBox___1Pzdk",tableList:"tableList___2wz6O",tableListActive:"tableListActive___2X9DD",keyBox:"keyBox___11u03",setAbsoluteBox:"setAbsoluteBox___3LFkm",nameBox:"nameBox___3LLkv",editInputNameBox:"editInputNameBox___1N_mB",nowrap:"nowrap___9N2pQ",fileSetBottomRender:"fileSetBottomRender___3PRN4",box:"box___2GbUH",disabled:"disabled___3ae4n",innerBox:"innerBox___38IJ4",card:"card___2Ivo4",title:"title___d8IEV",setBox:"setBox___2iyIL",line:"line___1EvBp",container:"container___2Uu5z",loader:"loader___1P_QQ",loaderDot:"loaderDot___3bPCC"}},wb4B:function(e,t,a){e.exports={FileSetBottomRender:"FileSetBottomRender___2jVP1",fileSetBottomRender:"FileSetBottomRender___2jVP1",box:"box___3T-yh",disabled:"disabled___GUztX",innerBox:"innerBox___3esmy",card:"card___1MlHo"}},wcVp:function(e,t,a){e.exports=a.p+"static/1.8406bfc7.png"},yM5H:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAASFJREFUOE+lk7FKxEAURe8bjC4ilhZiJY6wCVaD7BLyAeIXWG3nPyzbLHZ+h5W1hVhYhqBIKk0KR/wA60XUdectE4jEJJroTjkz99z73rwhLLhoQT2aAUo58m15CNBWbsagqQCdPyZhmAGUUs7kfbX7SeyUEwkzGwG0AuaLAmCNgKFOo40MID3/GuBNMF4rJREe1jsfx3EcT4tn0vNZJxHlAKOTaAmAaduTMiCjlcVyL9i2e/o+fK6clRLUAnZcf2yFT2l08ieAdWZjDgg4tEIGLkmIq2KSX0uQbr9HJAYM7FsAAXfM5kynN7d5klY9+HcJXy5uv5c1seBcn8D1Xxg4JfCkzTMy6Psg7XpBYMBHhOok1gEro9zG9ac7zZ+pgT4HBTqUEbPSidwAAAAASUVORK5CYII="}}]);